---
import "@fontsource-variable/inter"
import "@radix-ui/colors/blue-dark.css"
import "@radix-ui/colors/blue.css"
import "@radix-ui/colors/pink-dark.css"
import "@radix-ui/colors/pink.css"
import "@radix-ui/colors/slate-dark.css"
import "@radix-ui/colors/slate.css"
import { SEO } from "astro-seo"
import ThemeButton from "components/ThemeButton.astro"
import site from "site"

const title: string = site.SITE_NAME
const description = site.SITE_DESC
const image = site.SITE_IMAGE
const url = site.SITE_URL
const env = process.env.NODE_ENV
const isProd = env === "production"
---

<!doctype html>
<html lang="en">
	<head>
		<SEO
			title={title}
			description={description}
			canonical={url}
			openGraph={{
				basic: {
					title,
					type: "website",
					image,
				},
			}}
			twitter={{
				creator: "@pablopunk",
			}}
			extend={{
				// extending the default meta tags
				meta: [
					{
						name: "twitter:image",
						content: image,
					},
					{ name: "twitter:title", content: title },
					{ name: "twitter:description", content: description },
					{ name: "twitter:card", content: "summary_large_image" },
					{
						name: "tags",
						content: site.SITE_KEYWORDS.join(","),
					},
				],
			}}
		/>
		<link rel="apple-touch-icon" sizes="180x180" href="/favicon/apple-touch-icon.png" />
		<link rel="icon" type="image/png" sizes="32x32" href="/favicon/favicon-32x32.png" />
		<link rel="icon" type="image/png" sizes="16x16" href="/favicon/favicon-16x16.png" />
		<link rel="manifest" href="/favicon/site.webmanifest" />
		<link rel="mask-icon" href="/favicon/safari-pinned-tab.svg" color="#2a999d" />
		<link rel="shortcut icon" href="/favicon/favicon.ico" />
		<meta name="msapplication-TileColor" content="#00aba9" />
		<meta name="msapplication-config" content="/favicon/browserconfig.xml" />
		<meta charset="UTF-8" />
		<meta name="description" content="Astro description" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		{isProd ? <script data-goatcounter="/goat" async src="/count.js" is:inline /> : null}
		<meta name="generator" content={Astro.generator} />
		<meta name="theme-color" content="#000000" />
		<script src="https://app.lemonsqueezy.com/js/lemon.js" defer is:inline></script>
		<title>{title}</title>
	</head>
	<body class="mx-auto pb-6 text-neutral-12">
		<nav class="flex items-center justify-between px-4 py-2">
			<a
				href="https://pablopunk.com"
				class="text-sm font-bold text-neutral-11 transition-colors hover:text-accent-11"
			>
				Made by @pablopunk
			</a>
			<ThemeButton />
		</nav>
		<div class="mx-auto max-w-screen-xl p-3">
			<main>
				<slot />
			</main>
		</div>
		<style is:global>
			body {
				font-family: "Inter Variable", system-ui, sans-serif;
				background-color: #fff;
			}
			body.dark {
				background-color: #000;
			}
			body {
				/* accent */
				--accent-1: var(--blue-1);
				--accent-2: var(--blue-2);
				--accent-3: var(--blue-3);
				--accent-4: var(--blue-4);
				--accent-5: var(--blue-5);
				--accent-6: var(--blue-6);
				--accent-7: var(--blue-7);
				--accent-8: var(--blue-8);
				--accent-9: var(--blue-9);
				--accent-10: var(--blue-10);
				--accent-11: var(--blue-11);
				--accent-12: var(--blue-12);
				/* accent2 */
				--accent2-1: var(--pink-1);
				--accent2-2: var(--pink-2);
				--accent2-3: var(--pink-3);
				--accent2-4: var(--pink-4);
				--accent2-5: var(--pink-5);
				--accent2-6: var(--pink-6);
				--accent2-7: var(--pink-7);
				--accent2-8: var(--pink-8);
				--accent2-9: var(--pink-9);
				--accent2-10: var(--pink-10);
				--accent2-11: var(--pink-11);
				--accent2-12: var(--pink-12);
				/* neutral */
				--neutral-1: var(--slate-1);
				--neutral-2: var(--slate-2);
				--neutral-3: var(--slate-3);
				--neutral-4: var(--slate-4);
				--neutral-5: var(--slate-5);
				--neutral-6: var(--slate-6);
				--neutral-7: var(--slate-7);
				--neutral-8: var(--slate-8);
				--neutral-9: var(--slate-9);
				--neutral-10: var(--slate-10);
				--neutral-11: var(--slate-11);
				--neutral-12: var(--slate-12);
			}
		</style>
		<script is:inline>
			// eslint-disable-next-line no-console
			console.log(
				`%c
<>
Hi! I'm Pablo, the owner of this website.
What are you doing here? Is there something wrong?
You can contact me at pablo@pablopunk.com
Or open an issue/PR at github.com/pablopunk/swiftshift.app
</>\n
`,
				"color:#18949c;font-size:1.5em"
			)
		</script>
		<script>
			type WindowWithGoatCounter = Window & {
				goatcounter: { count: (data: { path: string }) => void }
			}

			document.addEventListener("astro:page-load", () => {
				;(window as any as WindowWithGoatCounter).goatcounter?.count({
					path: location.pathname + location.search + location.hash,
				})
			})
		</script>
	</body>
</html>
